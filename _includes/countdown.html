{% comment %}
Countdown Timer Include
Displays a countdown to the event date
{% endcomment %}

<section class="countdown-section" id="countdown-section">
  <div class="container">
    <div class="countdown-container" id="countdown-clock">
      <div class="countdown-item">
        <span class="countdown-value" id="days">0</span>
        <span class="countdown-label">Days</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="hours">00</span>
        <span class="countdown-label">Hours</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="minutes">00</span>
        <span class="countdown-label">Minutes</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="seconds">00</span>
        <span class="countdown-label">Seconds</span>
      </div>
    </div>
    <p class="text-center text-muted mt-4">until Orlando Code Camp 2026</p>
  </div>
</section>

<script>
(function() {
  function getTimeRemaining(endTime) {
    const total = endTime - Date.now();
    if (total <= 0) {
      return { total: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };
    }

    return {
      total: total,
      days: Math.floor(total / (1000 * 60 * 60 * 24)),
      hours: Math.floor((total / (1000 * 60 * 60)) % 24),
      minutes: Math.floor((total / 1000 / 60) % 60),
      seconds: Math.floor((total / 1000) % 60)
    };
  }

  function initializeClock(endTime) {
    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');
    const secondsEl = document.getElementById('seconds');

    if (!daysEl || !hoursEl || !minutesEl || !secondsEl) return;

    function updateClock() {
      const t = getTimeRemaining(endTime);

      daysEl.textContent = t.days;
      hoursEl.textContent = ('0' + t.hours).slice(-2);
      minutesEl.textContent = ('0' + t.minutes).slice(-2);
      secondsEl.textContent = ('0' + t.seconds).slice(-2);

      if (t.total <= 0) {
        clearInterval(timeInterval);
        daysEl.textContent = '0';
        hoursEl.textContent = '00';
        minutesEl.textContent = '00';
        secondsEl.textContent = '00';
      }
    }

    updateClock();
    const timeInterval = setInterval(updateClock, 1000);
  }

  // Orlando Code Camp 2026: April 11, 2026, 7:30 AM EDT (UTC-4)
  // UTC equivalent: April 11, 2026, 11:30 UTC
  const eventDate = new Date(Date.UTC(2026, 3, 11, 11, 30, 0)).getTime();
  initializeClock(eventDate);
})();
</script>
